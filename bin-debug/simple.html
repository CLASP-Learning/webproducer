<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>Producer</title>
    <link rel="stylesheet" href="css/bootstrap.css" type="text/css" media="screen" title="no title" charset="utf-8">
    <link rel="stylesheet" href="css/spacelab_original.css" type="text/css" media="screen" title="no title" charset="utf-8">
    <link rel="stylesheet" href="css/spacelab.css" type="text/css" media="screen" title="no title" charset="utf-8">
    <link rel="stylesheet" href="css/bootstrap-responsive.css" type="text/css" media="screen" title="no title" charset="utf-8">
    <style rel="stylesheet" type="text/css" media="screen" title="no title" charset="utf-8">
      input {
        height: auto !important;
      }
    </style>
  </head>

  <body>
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="#">WebProducer</a>
        </div>
      </div>
      <br/>
    </div>
          <br/> <br/>
          <br/> <br/>

    <div class="container">

      <div class="row preview">
        <div id="name" class="span12">
          <h2 class="">Javascript APIs</h2>
          <h2 class=""></h2>
          <br/>
        </div>
      </div>

      <div class="row">
        <div class="span12">
          <p>
            You put a placeholder in your page by having a DIV tag with id "producer" (or any other)
          </p>
          <p>
            <pre><code>
              &lt;div class="span6" id="producer"&gt;
            </code></pre>
          </p>

          <p>
            Then you use swobject to actually load the Flash Object
          </p>

          <p>
            <pre><code>
  var swfVersionStr = "11.4.0";
  var xiSwfUrlStr = "playerProductInstall.swf";
  var flashvars = {};
  var params = {};
  params.quality = "high";
  params.bgcolor = "#ffffff";
  params.allowscriptaccess = "sameDomain";
  params.allowfullscreen = "true";
  var attributes = {};
  attributes.align = "left";
  swfobject.embedSWF(
      "producer.swf", "producer",  // <- the id you have chosen
      320*1.5, 240*1.5,
      swfVersionStr, xiSwfUrlStr, 
      flashvars, params, attributes);
  // JavaScript enabled so display the flashContent div in case it is not replaced with a swf object.
  swfobject.createCSS("#producer", "display:block;text-align:left;");
            </code></pre>
          </p>
          
        </div>

      </div>

    <br/>
    <br/>
    <br/>


      <div class="row">

        <div class="span12">
          <p>After the plugin has been loaded you can use it like this.</p>
          <p>
          Feel free to change and run the following code.
          Look at the browser console to see what's happening behind the scenes.</p>
        </div>

        <div class="span6" style="_border: 1px solid black;">
          <textarea cols="58" rows="13" style="width: auto !important" id="code1">
var producer = document.getElementById('producer');

producer.setCredentials("username", "password");
var streamName = "foo"; // stream name will reflect in the recorded filename

var url = 'rtmp://' + window.location.hostname + ':1935/live';
  // "live/" is the RTMP application name, always the same.

producer.setUrl(url);
producer.setStreamName(streamName);
producer.setStreamWidth(640);
producer.setStreamHeight(480);
          </textarea>
          <a class="btn btn-primary" onclick="eval(document.getElementById('code1').value); return false;" href="#">Run</a>

          <br/> <br/>

          <textarea cols="58" rows="1" style="width: auto !important" id="code2">
producer.connect(); // starts sending to the server
          </textarea>

          <a class="btn btn-primary" onclick="eval(document.getElementById('code2').value); return false;" href="#">Run</a>

          <br/> <br/>

          <textarea cols="58" rows="1" style="width: auto !important" id="code3">
producer.disconnect(); // stops sending to the server
          </textarea>

          <a class="btn btn-primary" onclick="eval(document.getElementById('code3').value); return false;" href="#">Run</a>
          
          <br/> <br/>
          <br/> <br/>
          <br/> <br/>
        </div>

        <div class="span6" id="producer">
        </div>

      </div>
    </div>

  </div> 
</body>

<script type="text/javascript" charset="utf-8" src="js/jquery-1.9.1.js"></script>
<script type="text/javascript" charset="utf-8" src="js/underscore.js"></script>
<script type="text/javascript" charset="utf-8" src="js/backbone.js"></script>
<script type="text/javascript" charset="utf-8" src="swfobject.js"></script>

<style type="text/css" media="screen">
#producer {
  border: 1px solid gray;
}
</style>

<script type="text/javascript" charset="utf-8">
$(document).ready(function () {
  var swfVersionStr = "11.4.0";
  var xiSwfUrlStr = "playerProductInstall.swf";
  var flashvars = {};
  var params = {};
  params.quality = "high";
  params.bgcolor = "#ffffff";
  params.allowscriptaccess = "sameDomain";
  params.allowfullscreen = "true";
  var attributes = {};
  attributes.align = "left";
  swfobject.embedSWF(
      "producer.swf", "producer", 
      320*1.5, 240*1.5,
      swfVersionStr, xiSwfUrlStr, 
      flashvars, params, attributes);
  // JavaScript enabled so display the flashContent div in case it is not replaced with a swf object.
  swfobject.createCSS("#producer", "display:block;text-align:left;");
}) 
</script>

</html>
